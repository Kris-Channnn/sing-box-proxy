{
  "log": {"level":"warn","timestamp":true},
  "experimental": {
    "urltest_unified_delay": true,
    "cache_file": {"enabled":true,"store_fakeip":true,"store_rdrc":true},
    "clash_api": {
      "external_controller": "[::]:9090",
      "external_ui": "ui",
      "external_ui_download_url": "https://github.com/Zephyruso/zashboard/archive/refs/heads/gh-pages.zip",
      "external_ui_download_detour": "ğŸ CATCH_ALL",
      "external_ui_update_interval": "24h0m0s"
    }
  },
  "providers": [
    {
      "tag": "1.",
      "type": "remote",
      "url": "è®¢é˜…é“¾æ¥",
      "user_agent": "sing-box/v1.12.0",
      "download_detour": "direct",
      "update_interval": "24h0m0s",
      "health_check": {"enabled":true,"url":"https://www.gstatic.com/generate_204","interval":"10m0s","timeout":"3s"}
    },
    {
      "tag": "2.",
      "type": "remote",
      "url": "è®¢é˜…é“¾æ¥",
      "user_agent": "sing-box/v1.12.0",
      "download_detour": "direct",
      "update_interval": "24h0m0s",
      "health_check": {"enabled":true,"url":"https://www.gstatic.com/generate_204","interval":"10m0s","timeout":"3s"}
    }
  ],
  "dns": {
    "servers": [
      {"tag":"proxy_server_dns","type":"https","server":"doh.pub","domain_resolver":"hosts"},
      {"tag":"direct_dns","type":"https","server":"dns.alidns.com","domain_resolver":"hosts"},
      {"tag":"proxy_dns","type":"https","server":"dns.google","domain_resolver":"hosts","detour":"ğŸ CATCH_ALL"},
      {"tag":"local","type":"local"},
      {"tag":"fake-ip-dns-server","type":"fakeip","inet4_range":"198.18.0.0/15","inet6_range":"fc00::/64"},
      {"tag":"hosts","type":"hosts","predefined":{"dns.alidns.com":["223.5.5.5","223.6.6.6"],"doh.pub":["1.12.12.21","120.53.53.53"],
       "dns.google":["8.8.8.8","8.8.4.4"],"cloudflare-dns.com":["104.16.248.249","104.16.249.249"]}}
    ],
    "rules": [
      {"clash_mode":"Global","query_type":["A","AAAA"],"server":"fake-ip-dns-server","rewrite_ttl":0},
      {"clash_mode":"Global","server":"proxy_dns"},
      {"clash_mode":"Direct","server":"direct_dns"},
      {"domain_suffix":["market.xiaomi.com","lancache.steamcontent.com"],"server":"direct_dns"},
      {"query_type":["SVCB","HTTPS"],"action":"predefined","rcode":"NOTIMP"},
      {"query_type":["A","AAAA"],"server":"fake-ip-dns-server","rewrite_ttl":0},
      {"domain_suffix":[".arpa"],"server":"local"},
      {"rule_set":"gfw","server":"proxy_dns"}
    ],
    "final": "proxy_dns",
    "strategy": "prefer_ipv4",
    "reverse_mapping": true,
    "independent_cache": true,
    "round_robin_cache": true,
    "cache_capacity": 4096,
    "lazy_cache_ttl": 180000
  },
  "inbounds": [
    {"tag":"mixed-in","type":"mixed","listen":"127.0.0.1","listen_port":7890,"set_system_proxy":false},
    {"tag":"tun-in","type":"tun","interface_name":"tun0","address":["172.19.0.1/30","fdfe:dcba:9876::1/126"],
     "auto_route":true,"strict_route":true,"auto_redirect":false,"sniff": true,
     "platform":{"http_proxy":{"enabled":true,"server":"127.0.0.1","server_port":7890}}}
  ],
  "outbounds": [
    {"tag":"ğŸ CATCH_ALL","type":"selector","outbounds":["direct","ğŸ‡­ğŸ‡° Hong Kong","ğŸ‡¹ğŸ‡¼ Taiwan","ğŸ‡¸ğŸ‡¬ Singapore","ğŸ‡¯ğŸ‡µ Japan","ğŸ‡ºğŸ‡¸ United States","ğŸ‡ºğŸ‡³ Other regions"],"interrupt_exist_connections": true},
    {"tag":"ğŸ¤– AI","type":"selector","outbounds":["ğŸ‡­ğŸ‡° Hong Kong","ğŸ‡¹ğŸ‡¼ Taiwan","ğŸ‡¸ğŸ‡¬ Singapore","ğŸ‡¯ğŸ‡µ Japan","ğŸ‡ºğŸ‡¸ United States","ğŸ‡ºğŸ‡³ Other regions"],"interrupt_exist_connections": true},
    {"tag":"ğŸ Apple","type":"selector","outbounds":["direct","ğŸ‡­ğŸ‡° Hong Kong","ğŸ‡¹ğŸ‡¼ Taiwan","ğŸ‡¸ğŸ‡¬ Singapore","ğŸ‡¯ğŸ‡µ Japan","ğŸ‡ºğŸ‡¸ United States","ğŸ‡ºğŸ‡³ Other regions"],"interrupt_exist_connections": true},
    {"tag":"ğŸ“º Bilibili","type":"selector","outbounds":["direct","ğŸ‡­ğŸ‡° Hong Kong","ğŸ‡¹ğŸ‡¼ Taiwan"],"interrupt_exist_connections": true},
    {"tag":"ğŸ–¥ï¸ Mircosoft","type":"selector","outbounds":["direct","ğŸ‡­ğŸ‡° Hong Kong","ğŸ‡¹ğŸ‡¼ Taiwan","ğŸ‡¸ğŸ‡¬ Singapore","ğŸ‡¯ğŸ‡µ Japan","ğŸ‡ºğŸ‡¸ United States","ğŸ‡ºğŸ‡³ Other regions"],"interrupt_exist_connections": true},
    {"tag":"tg-tg","type":"selector","outbounds":["ğŸ‡­ğŸ‡° Hong Kong","ğŸ‡¹ğŸ‡¼ Taiwan","ğŸ‡¸ğŸ‡¬ Singapore","ğŸ‡¯ğŸ‡µ Japan","ğŸ‡ºğŸ‡¸ United States","ğŸ‡ºğŸ‡³ Other regions"],"interrupt_exist_connections": true},
    {"tag":"tg-us","type":"selector","outbounds":["ğŸ‡­ğŸ‡° Hong Kong","ğŸ‡¹ğŸ‡¼ Taiwan","ğŸ‡¸ğŸ‡¬ Singapore","ğŸ‡¯ğŸ‡µ Japan","ğŸ‡ºğŸ‡¸ United States","ğŸ‡ºğŸ‡³ Other regions"],"interrupt_exist_connections": true},
    {"tag":"tg-eu","type":"selector","outbounds":["ğŸ‡­ğŸ‡° Hong Kong","ğŸ‡¹ğŸ‡¼ Taiwan","ğŸ‡¸ğŸ‡¬ Singapore","ğŸ‡¯ğŸ‡µ Japan","ğŸ‡ºğŸ‡¸ United States","ğŸ‡ºğŸ‡³ Other regions"],"interrupt_exist_connections": true},
    {"tag":"ğŸ‡­ğŸ‡° Hong Kong","type":"selector","use_all_providers":true,"include":"(?i)é¦™æ¸¯|hk|hongkong","interrupt_exist_connections": true},
    {"tag":"ğŸ‡¹ğŸ‡¼ Taiwan","type":"selector","use_all_providers":true,"include":"(?i)å°æ¹¾|tw|taiwan|taipei","interrupt_exist_connections": true},
    {"tag":"ğŸ‡¸ğŸ‡¬ Singapore","type":"selector","use_all_providers":true,"include":"(?i)æ–°åŠ å¡|sg|singapore|ç‹®åŸ","interrupt_exist_connections": true},
    {"tag":"ğŸ‡¯ğŸ‡µ Japan","type":"selector","use_all_providers":true,"include":"(?i)æ—¥æœ¬|jp|japan|tokyo|osaka","interrupt_exist_connections": true},
    {"tag":"ğŸ‡ºğŸ‡¸ United States","type":"selector","use_all_providers":true,"include":"(?i)ç¾å›½|us|united states|america|los angeles|san jose|silicon valley","interrupt_exist_connections": true},
    {"tag":"ğŸ‡ºğŸ‡³ Other regions","type":"selector","use_all_providers":true,"exclude":"(?i)é¦™æ¸¯|å°æ¹¾|æ—¥æœ¬|æ–°åŠ å¡|ç¾å›½|hk|tw|jp|sg|us|ğŸ‡¨ğŸ‡³|ğŸ‡ºğŸ‡¸|ğŸ‡­ğŸ‡°|ğŸ‡¸ğŸ‡¬|ğŸ‡¯ğŸ‡µ","interrupt_exist_connections": true},
    {"tag":"GLOBAL","type":"selector","outbounds":["ğŸ CATCH_ALL","ğŸ‡­ğŸ‡° Hong Kong","ğŸ‡¹ğŸ‡¼ Taiwan","ğŸ‡¸ğŸ‡¬ Singapore","ğŸ‡¯ğŸ‡µ Japan","ğŸ‡ºğŸ‡¸ United States","ğŸ‡ºğŸ‡³ Other regions"]},
    {"tag":"direct","type":"direct","domain_resolver":"local"}
  ],
  "route": {
    "final": "ğŸ CATCH_ALL",
    "auto_detect_interface": true,
    "default_domain_resolver": "proxy_server_dnss",
    "default_domain_match_strategy": "prefer_fqdn",
    "rules": [
      {"domain":["Mijia Cloud"],"domain_suffix":["push.apple.com"],"rule_set":["telegram_ip"],"invert":true,"action":"sniff"},
      {"type":"logical","mode":"or","rules":[{"port": 53},{"protocol":"dns"}],"action":"hijack-dns"},
      {"clash_mode":"Global","outbound":"GLOBAL"},
      {"clash_mode":"Direct","outbound":"direct"},
      {"domain_suffix":["steamserver.net"],"outbound":"direct"},
      {"outbound":"tg-tg","ip_cidr":["91.108.16.0/21","91.108.56.0/23","149.154.168.0/22","2001:b28:f23c::/48","2001:b28:f23f::/48"]},
      {"outbound":"tg-us","ip_cidr":["91.108.12.0/22","149.154.172.0/22","2001:b28:f23d::/48"]},
      {"outbound":"tg-eu","ip_cidr":["5.28.192.0/18","91.105.192.0/23","91.108.4.0/22","91.108.8.0/22","91.108.56.0/22","95.161.64.0/20","109.239.140.0/24","149.154.160.0/21","185.76.151.0/24","2001:67c:4e8::/48","2a0a:f280:203::/48"]},
      {"network":"icmp","outbound":"direct"},
      {"protocol":"quic","rule_set":"youtube","action":"reject"},
      {"ip_is_private":true,"outbound":"direct"},
      {"rule_set":"AWAvenue-Ads","action":"reject","method":"drop"},
      {"rule_set":"apple", "outbound":"ğŸ Apple"},
      {"rule_set":"bilibili","outbound":"ğŸ“º Bilibili"},
      {"rule_set":"bahamut","outbound":"ğŸ‡¹ğŸ‡¼ Taiwan"},
      {"rule_set":"private","outbound":"direct"},
      {"rule_set":"ai","outbound":"ğŸ¤– AI"},
      {"rule_set":["telegram","github","twitter","youtube","google"],"outbound":"ğŸ CATCH_ALL"},
      {"rule_set":"geosite-microsoft", "outbound":"ğŸ–¥ï¸ Mircosoft"},
      {"rule_set":"gfw", "outbound":"ğŸ CATCH_ALL"},
      {"rule_set":"cn","outbound":"direct"},
      {"action":"resolve","match_only":true},
      {"rule_set":"cn_ip","outbound":"direct"}
    ],
    "rule_set": [
      {"tag":"AWAvenue-Ads","type":"remote","url":"https://raw.githubusercontent.com/TG-Twilight/AWAvenue-Ads-Rule/main/Filters/AWAvenue-Ads-Rule-Singbox.json","download_detour":"ğŸ CATCH_ALL"},
      {"tag":"private","type":"remote","url":"https://raw.githubusercontent.com/SagerNet/sing-geosite/rule-set/geosite-private.srs","download_detour":"ğŸ CATCH_ALL"},
      {"tag":"ai","type":"remote","format":"binary","url":"https://gh-CATCH_ALL.com/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/category-ai-!cn.srs","download_detour":"direct"},
      {"tag":"apple","type":"remote","format":"binary","url":"https://ghfast.top/raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/apple.srs","download_detour":"direct"},
      {"tag":"telegram","type":"remote","format":"binary","url":"https://ghfast.top/raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/telegram.srs","download_detour":"direct"},
      {"tag":"telegram_ip","type":"remote","format":"binary","url":"https://ghfast.top/raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geoip/telegram.srs","download_detour":"direct"},
      {"tag":"github","type":"remote","format":"binary","url":"https://ghfast.top/raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/github.srs","download_detour":"direct"},
      {"tag":"geosite-microsoft","type":"remote","format":"binary","url":"https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/microsoft.srs","download_detour":"direct"},
      {"tag":"twitter","type":"remote","format":"binary","url":"https://ghfast.top/raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/twitter.srs","download_detour":"direct"},
      {"tag":"youtube","type":"remote","format":"binary","url":"https://ghfast.top/raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/youtube.srs","download_detour":"direct"},
      {"tag":"google","type":"remote","format":"binary","url":"https://ghfast.top/raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/google.srs","download_detour":"direct"},
      {"tag":"bahamut","type":"remote","format":"binary","url":"https://ghfast.top/raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/bahamut.srs","download_detour":"direct"},
      {"tag":"bilibili","type":"remote","format":"binary","url":"https://ghfast.top/raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/bilibili.srs","download_detour":"direct"},
      {"tag":"gfw","type":"remote","url":"https://github.com/DustinWin/ruleset_geodata/releases/download/sing-box-ruleset/gfw.srs","download_detour":"ğŸ CATCH_ALL"},
      {"tag":"cn","type":"remote","url":"https://raw.githubusercontent.com/YiXuanZX/sing-box-geosite/main/rule/cn-additional-list-clash-classical.srs","download_detour":"ğŸ CATCH_ALL"},
      {"tag":"cn_ip","type":"remote","format":"binary","url":"https://ghfast.top/raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geoip/cn.srs","download_detour":"direct"}
    ]
  }

}
